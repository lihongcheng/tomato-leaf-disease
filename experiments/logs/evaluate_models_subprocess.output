开始模型评估...
================================================================================
测试集样本数: 9059
类别数: 11
类别映射: {'Bacterial_spot': 0, 'Early_blight': 1, 'Healthy': 2, 'Late_blight': 3, 'Leaf_Mold': 4, 'Powdery_Mildew': 5, 'Septoria_leaf_spot': 6, 'Spider_mites_Two_spotted_spider_mite': 7, 'Target_Spot': 8, 'Yellow_Leaf_Curl_Virus': 9, 'mosaic_virus': 10}

评估模型: MobileNetV3_small
----------------------------------------
📊 评估精度...
⏱️  测量推理时间...
🔄 导出 MobileNetV3_small 为ONNX格式...
✅ MobileNetV3_small ONNX导出成功
📊 准备全测试集数据用于TFLite评估...
📊 实际准备了9059个测试样本用于TFLite评估
🔄 通过子进程转换 MobileNetV3_small 为TFLite...
✅ MobileNetV3_small TFLite转换成功
📊 通过子进程评估 MobileNetV3_small TFLite模型...
✅ MobileNetV3_small TFLite评估成功
✅ MobileNetV3_small 评估完成
   测试精度: 0.9881
   参数量: 1,529,131
   推理时间: 5.11ms

评估模型: EfficientNet_B0
----------------------------------------
📊 评估精度...
⏱️  测量推理时间...
🔄 导出 EfficientNet_B0 为ONNX格式...
✅ EfficientNet_B0 ONNX导出成功
📊 准备全测试集数据用于TFLite评估...
📊 实际准备了9059个测试样本用于TFLite评估
🔄 通过子进程转换 EfficientNet_B0 为TFLite...
✅ EfficientNet_B0 TFLite转换成功
📊 通过子进程评估 EfficientNet_B0 TFLite模型...
✅ EfficientNet_B0 TFLite评估成功
✅ EfficientNet_B0 评估完成
   测试精度: 0.9887
   参数量: 4,021,639
   推理时间: 6.86ms

评估模型: MobileNetV1
----------------------------------------
📊 评估精度...
⏱️  测量推理时间...
🔄 导出 MobileNetV1 为ONNX格式...
✅ MobileNetV1 ONNX导出成功
📊 准备全测试集数据用于TFLite评估...
📊 实际准备了9059个测试样本用于TFLite评估
🔄 通过子进程转换 MobileNetV1 为TFLite...
✅ MobileNetV1 TFLite转换成功
📊 通过子进程评估 MobileNetV1 TFLite模型...
✅ MobileNetV1 TFLite评估成功
✅ MobileNetV1 评估完成
   测试精度: 0.9595
   参数量: 3,218,251
   推理时间: 3.29ms

评估模型: ShuffleNetV2_x1_0
----------------------------------------
📊 评估精度...
⏱️  测量推理时间...
🔄 导出 ShuffleNetV2_x1_0 为ONNX格式...
✅ ShuffleNetV2_x1_0 ONNX导出成功
📊 准备全测试集数据用于TFLite评估...
📊 实际准备了9059个测试样本用于TFLite评估
🔄 通过子进程转换 ShuffleNetV2_x1_0 为TFLite...
✅ ShuffleNetV2_x1_0 TFLite转换成功
📊 通过子进程评估 ShuffleNetV2_x1_0 TFLite模型...
✅ ShuffleNetV2_x1_0 TFLite评估成功
✅ ShuffleNetV2_x1_0 评估完成
   测试精度: 0.9861
   参数量: 1,264,879
   推理时间: 5.93ms

评估模型: MobileNetV3_Attention
----------------------------------------
📊 评估精度...
⏱️  测量推理时间...
🔄 导出 MobileNetV3_Attention 为ONNX格式...
✅ MobileNetV3_Attention ONNX导出成功
📊 准备全测试集数据用于TFLite评估...
📊 实际准备了9059个测试样本用于TFLite评估
🔄 通过子进程转换 MobileNetV3_Attention 为TFLite...
✅ MobileNetV3_Attention TFLite转换成功
📊 通过子进程评估 MobileNetV3_Attention TFLite模型...
✅ MobileNetV3_Attention TFLite评估成功
✅ MobileNetV3_Attention 评估完成
   测试精度: 0.9858
   参数量: 3,145,627
   推理时间: 5.33ms


====================================================================================================
Table 5.5 - TFLite转换后模型对比
====================================================================================================
+-----------------------+---------------+-----------------+---------------+----------------+------------------+----------+----------------+------------------+----------+-------------+
| 模型                  |   原始精度(%) |   TFLite精度(%) |   精度损失(%) |   原始大小(MB) |   TFLite大小(MB) | 压缩比   |   原始延迟(ms) |   TFLite延迟(ms) | 加速比   |   参数量(M) |
+=======================+===============+=================+===============+================+==================+==========+================+==================+==========+=============+
| MobileNetV3_small     |         98.81 |           98.74 |          0.07 |          17.75 |             1.65 | 10.8x    |           5.11 |             9.24 | 0.6x     |        1.53 |
+-----------------------+---------------+-----------------+---------------+----------------+------------------+----------+----------------+------------------+----------+-------------+
| EfficientNet_B0       |         98.87 |           98.66 |          0.21 |          46.49 |             4.35 | 10.7x    |           6.86 |            50.6  | 0.1x     |        4.02 |
+-----------------------+---------------+-----------------+---------------+----------------+------------------+----------+----------------+------------------+----------+-------------+
| MobileNetV1           |         95.95 |           95.74 |          0.21 |          37.04 |             3.24 | 11.4x    |           3.29 |            30.17 | 0.1x     |        3.22 |
+-----------------------+---------------+-----------------+---------------+----------------+------------------+----------+----------------+------------------+----------+-------------+
| ShuffleNetV2_x1_0     |         98.61 |           98.53 |          0.08 |          14.78 |             3.77 | 3.9x     |           5.93 |            16.05 | 0.4x     |        1.26 |
+-----------------------+---------------+-----------------+---------------+----------------+------------------+----------+----------------+------------------+----------+-------------+
| MobileNetV3_Attention |         98.58 |           98.43 |          0.14 |          23.97 |             1.66 | 14.4x    |           5.33 |             9.3  | 0.6x     |        3.15 |
+-----------------------+---------------+-----------------+---------------+----------------+------------------+----------+----------------+------------------+----------+-------------+

============================================================
详细性能指标
============================================================

MobileNetV3_small:
  原始模型:
    测试精度: 0.9881
    验证精度: 0.9888
    参数量: 1,529,131
    模型大小: 17.75 MB
    推理时间: 5.11 ± 2.27 ms
  TFLite模型:
    精度: 0.9874
    大小: 1.65 MB
    推理时间: 9.24 ms
    吞吐量: 108.2 FPS
    样本数: 9059

EfficientNet_B0:
  原始模型:
    测试精度: 0.9887
    验证精度: 0.9896
    参数量: 4,021,639
    模型大小: 46.49 MB
    推理时间: 6.86 ± 1.47 ms
  TFLite模型:
    精度: 0.9866
    大小: 4.35 MB
    推理时间: 50.60 ms
    吞吐量: 19.8 FPS
    样本数: 9059

MobileNetV1:
  原始模型:
    测试精度: 0.9595
    验证精度: 0.9592
    参数量: 3,218,251
    模型大小: 37.04 MB
    推理时间: 3.29 ± 1.46 ms
  TFLite模型:
    精度: 0.9574
    大小: 3.24 MB
    推理时间: 30.17 ms
    吞吐量: 33.1 FPS
    样本数: 9059

ShuffleNetV2_x1_0:
  原始模型:
    测试精度: 0.9861
    验证精度: 0.9859
    参数量: 1,264,879
    模型大小: 14.78 MB
    推理时间: 5.93 ± 1.65 ms
  TFLite模型:
    精度: 0.9853
    大小: 3.77 MB
    推理时间: 16.05 ms
    吞吐量: 62.3 FPS
    样本数: 9059

MobileNetV3_Attention:
  原始模型:
    测试精度: 0.9858
    验证精度: 0.9870
    参数量: 3,145,627
    模型大小: 23.97 MB
    推理时间: 5.33 ± 2.15 ms
  TFLite模型:
    精度: 0.9843
    大小: 1.66 MB
    推理时间: 9.30 ms
    吞吐量: 107.5 FPS
    样本数: 9059

💾 详细结果已保存到: model_tflite_comparison_results.csv
